# LeftyChords v2.5 Technical Specification

## Project Overview

LeftyChords is a left-handed guitar chord reference app. v2.0 added progressions, autocomplete, modal views, and degree annotations. v2.5 expands the progression library, adds chord alteration options, introduces diagram annotation cycling, improves slash chord support, and refines the UI.

**Live app:** https://gamergracieg.github.io/LeftyChords/

**Primary use case:** Jazz band rehearsals with a singer who may need on-the-fly transposition. User speaks in Roman numerals (ii-V-I) and needs quick visual reference for chord shapes in any key.

---

## v2.5 Features

### 1. Expanded Progressions with Descriptors

Expand from 8 progressions (4 categories) to 14 progressions (3 categories). Add a `description` field to each progression for context and recognition.

#### 1.1 Category Consolidation

Merge the current "Basic" and "Pop" categories into a single "Popular" category.

| v2.0 Categories | v2.5 Categories |
|---|---|
| Jazz (5) | **Jazz** (6) |
| Blues (1) | **Blues** (4) |
| Basic (1) | **Popular** (4) |
| Pop (1) | |

Update `getByCategory()` to use the new category structure:

```javascript
const categories = {
  jazz: { name: 'Jazz', progressions: [] },
  blues: { name: 'Blues', progressions: [] },
  popular: { name: 'Popular', progressions: [] }
};
```

#### 1.2 Data Model Changes

Add `description` field to progression objects:

```javascript
{
  id: "ii-V-I",
  name: "ii-V-I",
  description: "The essential jazz cadence. Found in nearly every standard.",
  numerals: ["ii", "V", "I"],
  qualities: { "ii": "m7", "V": "7", "I": "maj7" },
  category: "jazz"
}
```

Add new interval mappings to `Progressions.INTERVALS`:

```javascript
INTERVALS: {
  // Existing...
  'bII': 1,   // Tritone substitution
  'II': 2,    // Secondary dominant (rhythm changes bridge)
  'III': 4,   // Major III (Andalusian cadence, rhythm changes bridge)
  '#IV': 6    // Jazz blues passing diminished
}
```

#### 1.3 Complete Progression Definitions

**Jazz (6 progressions):**

```javascript
"ii-V-I": {
  id: "ii-V-I",
  name: "ii-V-I",
  description: "The essential jazz cadence. Found in nearly every standard.",
  numerals: ["ii", "V", "I"],
  qualities: { "ii": "m7", "V": "7", "I": "maj7" },
  category: "jazz"
},
"minor-ii-V-i": {
  id: "minor-ii-V-i",
  name: "Minor ii-V-i",
  description: 'Minor-key resolution. "Blue Bossa," "Autumn Leaves," "Alone Together," "Softly as in a Morning Sunrise."',
  numerals: ["ii", "V", "i"],
  qualities: { "ii": "m7b5", "V": "7", "i": "m7" },
  category: "jazz"
},
"turnaround": {
  id: "turnaround",
  name: "Turnaround",
  description: 'End-of-section loop back to the top. Last bars of rhythm changes, "Blue Moon," "Sunday Kind of Love." Variant: iii-vi-ii-V for more harmonic motion.',
  numerals: ["I", "vi", "ii", "V"],
  qualities: { "I": "maj7", "vi": "m7", "ii": "m7", "V": "7" },
  category: "jazz"
},
"rhythm-changes": {
  id: "rhythm-changes",
  name: "Rhythm Changes",
  description: 'One of the most called forms at jam sessions. AABA form. "Oleo," "Anthropology," "Moose the Mooche," "Cottontail."',
  sections: {
    A: {
      label: "A Section",
      numerals: ["I", "VI", "ii", "V"],
      qualities: { "I": "maj7", "VI": "7", "ii": "m7", "V": "7" }
    },
    B: {
      label: "Bridge",
      numerals: ["III", "VI", "II", "V"],
      qualities: { "III": "7", "VI": "7", "II": "7", "V": "7" }
    }
  },
  displayMode: "sections",
  category: "jazz"
},
"backdoor-ii-V": {
  id: "backdoor-ii-V",
  name: "Backdoor ii-V",
  description: 'Surprise resolution via bVII7. "Lady Bird," "Misty," "Stella by Starlight," "There Will Never Be Another You."',
  numerals: ["iv", "bVII", "I"],
  qualities: { "iv": "m7", "bVII": "7", "I": "maj7" },
  category: "jazz"
},
"tritone-sub": {
  id: "tritone-sub",
  name: "Tritone Substitution",
  description: 'Variation on V7, resolves down a half step. "Body and Soul," "Girl from Ipanema," "Satin Doll," "A Foggy Day."',
  numerals: ["ii", "bII", "I"],
  qualities: { "ii": "m7", "bII": "7", "I": "maj7" },
  category: "jazz"
}
```

**Blues (4 progressions):**

```javascript
"12-bar-blues": {
  id: "12-bar-blues",
  name: "12-Bar Blues",
  description: 'The form everyone is expected to know. "Sweet Home Chicago," "Johnny B. Goode," "Pride and Joy," "Hound Dog."',
  numerals: ["I", "I", "I", "I", "IV", "IV", "I", "I", "V", "IV", "I", "V"],
  qualities: { "I": "7", "IV": "7", "V": "7" },
  category: "blues",
  displayMode: "summary"
},
"minor-blues": {
  id: "minor-blues",
  name: "Minor Blues",
  description: 'Minor-key 12-bar. "Mr. PC," "Equinox," "Birk\'s Works," "Israel."',
  numerals: ["i", "i", "i", "i", "iv", "iv", "i", "i", "V", "iv", "i", "V"],
  qualities: { "i": "m7", "iv": "m7", "V": "7" },
  category: "blues",
  displayMode: "summary"
},
"jazz-blues": {
  id: "jazz-blues",
  name: "Jazz Blues",
  description: '12-bar with ii-V turnarounds. "Billie\'s Bounce," "Straight No Chaser," "Now\'s the Time," "All Blues," "Bag\'s Groove."',
  numerals: ["I", "IV", "I", "I", "IV", "IV", "I", "I", "ii", "V", "I", "V"],
  qualities: { "I": "7", "IV": "7", "ii": "m7", "V": "7" },
  category: "blues",
  displayMode: "summary"
},
"bird-blues": {
  id: "bird-blues",
  name: "Bird Blues",
  description: 'Bebop reharmonization with chromatic ii-Vs. "Blues for Alice," "Freight Trane," "Chi Chi."',
  displayMode: "chart",
  chart: [
    ["Imaj7"],
    ["viim7b5", "III7"],
    ["vim7", "II7"],
    ["vm7", "I7"],
    ["IV7"],
    ["ivm7", "bVII7"],
    ["iiim7", "VI7"],
    ["biim7", "V7"],
    ["iim7"],
    ["V7"],
    ["Imaj7", "VI7"],
    ["iim7", "V7"]
  ],
  category: "blues"
}
```

**Note on Bird Blues:** This progression uses secondary dominants and chromatic ii-V chains that don't reduce cleanly to diatonic numerals. The `chart` field uses a bar-based format where each entry is an array of chords within that bar. Implementation should use a `displayMode: "chart"` renderer that shows the grid structure and resolves each chord in the selected key. This is the most complex progression to implement and may require extending the resolution logic for secondary function numerals (e.g., `III7` as V/vi, `bVII7` as part of a backdoor resolution).

**Popular (4 progressions):**

```javascript
"I-IV-V": {
  id: "I-IV-V",
  name: "I-IV-V",
  description: 'Rock, folk, country, everything. "La Bamba," "Twist and Shout," "Wild Thing," "Louie Louie," "Good Lovin\'."',
  numerals: ["I", "IV", "V"],
  qualities: { "I": "", "IV": "", "V": "" },
  category: "popular"
},
"I-V-vi-IV": {
  id: "I-V-vi-IV",
  name: "I-V-vi-IV",
  description: 'The pop progression. "Let It Be," "No Woman No Cry," "Someone Like You," "With or Without You," "Don\'t Stop Believin\'."',
  numerals: ["I", "V", "vi", "IV"],
  qualities: { "I": "", "V": "", "vi": "m", "IV": "" },
  category: "popular"
},
"50s-doo-wop": {
  id: "50s-doo-wop",
  name: "50s Doo-Wop",
  description: '"Stand By Me," "Earth Angel," "All I Have to Do Is Dream," "Crocodile Rock."',
  numerals: ["I", "vi", "IV", "V"],
  qualities: { "I": "", "vi": "m", "IV": "", "V": "" },
  category: "popular"
},
"andalusian-cadence": {
  id: "andalusian-cadence",
  name: "Andalusian Cadence",
  description: 'Descending, Spanish feel. "Hit the Road Jack," "Runaway," "Stray Cat Strut," "Sultans of Swing," "Hava Nagila."',
  numerals: ["vi", "V", "IV", "III"],
  qualities: { "vi": "m", "V": "", "IV": "", "III": "" },
  category: "popular"
}
```

#### 1.4 Removed Progressions

The following v2.0 entries are absorbed into updated entries:

- **`full-turnaround`** — Folded into the Turnaround description as a variant (iii-vi-ii-V)
- **`rhythm-changes-a`** — Replaced by combined Rhythm Changes entry with A/B sections

#### 1.5 Descriptor Display

Descriptors appear as a subtitle under each progression name in the progression selector list:

```
Jazz
  ┌────────────────────────────────────────────┐
  │ ii-V-I                                     │
  │ The essential jazz cadence. Found in        │
  │ nearly every standard.                      │
  ├────────────────────────────────────────────┤
  │ Minor ii-V-i                               │
  │ Minor-key resolution. "Blue Bossa,"        │
  │ "Autumn Leaves," "Alone Together."         │
  └────────────────────────────────────────────┘
```

**Styling:**
- Progression name: current button style (bold, prominent)
- Description: smaller font, muted color, normal weight
- Wrap naturally within the button/card width
- If screen real estate becomes too tight on small devices, fall back to an info icon (ℹ) that reveals the description on tap

#### 1.6 Sections Display Mode

For Rhythm Changes (`displayMode: "sections"`), render each section with a label:

```
Rhythm Changes in C

A Section:
  I - VI - ii - V
  Cmaj7 - A7 - Dm7 - G7
  [diagrams]

Bridge:
  III - VI - II - V
  E7 - A7 - D7 - G7
  [diagrams]
```

#### 1.7 Chart Display Mode

For Bird Blues (`displayMode: "chart"`), render a 12-bar grid showing the chord names resolved in the selected key, with unique chord diagrams below:

```
Bird Blues in C

| Cmaj7       | Bm7b5  E7  | Am7  D7    | Gm7  C7    |
| F7          | Fm7  Bb7   | Em7  A7    | Ebm7  Ab7  |
| Dm7         | G7         | Cmaj7  A7  | Dm7  G7    |

Chords:
[unique chord diagrams]
```

---

### 2. Alteration Toggle

Allow tapping a chord within a progression display to see common alterations. This gives quick access to substitute voicings without leaving the progression context.

#### 2.1 Alteration Definitions

Define available alterations by chord function/quality:

```javascript
const ALTERATIONS = {
  // Dominant 7th chords — most alteration options
  "7": ["7", "9", "13", "7b9", "7#9", "7b5", "7#5", "alt", "7sus4"],

  // Minor 7th chords
  "m7": ["m7", "m9", "m11", "m6"],

  // Major 7th chords
  "maj7": ["maj7", "maj9", "6", "69"],

  // Half-diminished
  "m7b5": ["m7b5", "dim7"],

  // Triads (popular category)
  "": ["", "sus2", "sus4", "add9"],
  "m": ["m", "m7", "m9", "madd9"]
};
```

#### 2.2 Interaction

1. User taps a chord name or diagram within the progression display
2. A small popup appears anchored to that chord showing available alterations
3. Tapping an alteration:
   - Updates the chord name display for that slot
   - Re-renders the diagram with the new voicing
   - Does **not** permanently modify the progression definition
4. Tapping the same chord again or tapping elsewhere closes the popup
5. Changing key or selecting a different progression resets all alterations

#### 2.3 UI Layout

```
  ii - V - I
  Dm7 - G7 - Cmaj7
         ↑ (user taps G7)
  ┌──────────────────┐
  │ G7  G9  G13      │
  │ G7b9  G7#9       │
  │ G7b5  G7#5       │
  │ Galt  G7sus4     │
  └──────────────────┘

  [Dm7 diagram] [G7b9 diagram] [Cmaj7 diagram]
                 ↑ (updated after selection)
```

**Popup styling:**
- Compact grid of chord name buttons
- Current selection highlighted
- Positioned above or below the chord (whichever has more space)
- Dismiss on outside tap, Escape key, or scroll
- Touch-friendly tap targets

#### 2.4 Chord Lookup for Alterations

When an alteration is selected, look up the chord in the database using the same root:
- User selects "7b9" for the V chord in key of C → look up "G7b9"
- If the altered chord doesn't exist in the database, show the chord name but display "Diagram unavailable" placeholder
- The root is already resolved from the progression key — only the quality/suffix changes

---

### 3. Diagram Annotation Cycling

Replace the current always-on interval labels with a three-mode cycle: **Intervals → Fingering → Clean.**

#### 3.1 Annotation Modes

| Mode | Dot Label | Open String Label | Description |
|---|---|---|---|
| **Intervals** | R, 3, 5, b7, etc. | R, 5, etc. (below nut) | Current v2.0 behavior |
| **Fingering** | 1, 2, 3, 4 | (none) | Finger numbers from `position.fingers` |
| **Clean** | (none) | (none) | No labels on dots |

#### 3.2 Data Availability

- **Intervals:** Calculated by `ChordDegrees.calculateIntervals()` using MIDI data (existing)
- **Fingering:** Available in `position.fingers` array from database (existing, currently unused in v2.0 except as fallback when intervals aren't available)
- **Clean:** No data needed

#### 3.3 Toggle Control

A single button below the key selector (visible in all modes, not just progressions) that cycles through modes on tap:

```
┌─────────────────────────────────┐
│  Labels: [Intervals ▾]         │  ← Cycles: Intervals → Fingering → Clean
└─────────────────────────────────┘
```

**Behavior:**
- Tapping cycles to the next mode in order: Intervals → Fingering → Clean → Intervals
- Label updates to show current mode
- All visible diagrams re-render immediately with the new annotation mode
- Modal enlarged view respects the current mode
- State persists for the duration of the session (resets to Intervals on page reload)
- Default mode: **Intervals** (matches v2.0 behavior)

#### 3.4 Implementation

Add annotation mode state to `App`:

```javascript
// In App object
annotationMode: 'intervals', // 'intervals', 'fingering', 'clean'

cycleAnnotationMode() {
  const modes = ['intervals', 'fingering', 'clean'];
  const currentIndex = modes.indexOf(this.annotationMode);
  this.annotationMode = modes[(currentIndex + 1) % modes.length];
  this.updateAnnotationToggleUI();
  this.refreshDiagrams();
}
```

Update `ChordDiagram.render()` call sites to pass the appropriate data based on mode:

```javascript
// When rendering any diagram:
let intervals = null;
if (App.annotationMode === 'intervals') {
  intervals = ChordDegrees.calculateIntervals(position, chord.key, chord.suffix);
}
// 'fingering' mode: pass null for intervals, finger numbers render via existing fallback
// 'clean' mode: pass null for intervals AND override fingers to not display
```

The existing `_drawFingerDots` method already handles the intervals-vs-fingers priority (lines 168-183 of `chordDiagram.js`). The change is:
- **Intervals mode:** Pass intervals array (current behavior)
- **Fingering mode:** Pass `null` for intervals, let finger numbers display naturally
- **Clean mode:** Pass `null` for intervals and suppress finger number rendering (add a `showFingers` parameter or pass empty fingers)

#### 3.5 Toggle Placement

The toggle should be accessible from all three tabs since diagrams appear in chord search, reverse lookup, and progressions:

```
┌─────────────────────────────────────┐
│  [Chord Name] [Reverse Chord       │
│                Lookup] [Progressions]│
├─────────────────────────────────────┤
│  [Search input / Key selector]      │
├─────────────────────────────────────┤
│  Labels: Intervals ▾               │  ← Annotation toggle (all tabs)
├─────────────────────────────────────┤
│  [Results / Diagrams]               │
└─────────────────────────────────────┘
```

---

### 4. Slash Chord Support

Enable searching, displaying, and looking up slash chords (e.g., C/G, Am/E) using the existing database coverage.

#### 4.1 Database Coverage

The database already contains 36 slash chord suffixes:
- Major slash: `/A`, `/Ab`, `/B`, `/Bb`, `/C`, `/C#`, `/D`, `/E`, `/Eb`, `/F`, `/F#`, `/G`
- Minor slash: `m/A` through `m/G`
- Minor 9 slash: `m9/A` through `m9/G`
- Dominant slash: `7/G`

No database modifications needed.

#### 4.2 Search Updates (`search.js`)

**Parsing:** Update `parseChordName()` to handle the `/` character:

```javascript
// After extracting root and initial suffix:
// Input: "C/G" → root: "C", suffix: "/G"
// Input: "Am/E" → root: "A", suffix: "m/E"
// Input: "Dm9/C" → root: "D", suffix: "m9/C"
```

The current parser already handles this naturally since `/G` is treated as part of the suffix. The key addition is suffix alias mappings:

```javascript
// Add to SUFFIX_ALIASES
'/A': '/A', '/Ab': '/Ab', '/B': '/B', '/Bb': '/Bb',
'/C': '/C', '/C#': '/C#', '/D': '/D', '/E': '/E',
'/Eb': '/Eb', '/F': '/F', '/F#': '/F#', '/G': '/G',
'm/A': 'm/A', 'm/Ab': 'm/Ab', // ... etc for all m/ and m9/ variants
'7/G': '7/G'
```

**Autocomplete:** Update `getSuggestions()` so slash chords appear in suggestions when the user types a `/`:
- User types "C/" → show "C/A", "C/Ab", "C/B", "C/Bb", "C/C", etc.
- User types "Am/" → show "Am/A", "Am/Ab", etc.

**Display:** Slash chords display naturally — "C/G" renders as "C/G" with no normalization needed. The bass note after the slash should display in the same enharmonic convention as the root (flats).

#### 4.3 Diagram Rendering

Slash chord diagrams render identically to regular chords — the database already contains the correct fret positions. The bass note is inherent in the voicing.

#### 4.4 Degree Calculation

Update `ChordDegrees.CHORD_FORMULAS` to include slash chord interval patterns. Slash chords are inversions, so the bass note creates a different interval from root:

```javascript
// Example: C/G = C major with G in bass → ["5", "R", "3", "5"] or similar
// The formula depends on which inversion. Since the MIDI data is available,
// the existing calculation logic should handle this automatically —
// the formula just needs to include the bass note's interval.
```

The existing MIDI-based calculation in `ChordDegrees.calculateIntervals()` should work without changes since it derives intervals from MIDI note values regardless of chord type. Verify this works for all slash chord suffixes and add formula entries only if needed as a fallback.

---

### 5. Rename "Notes" Tab

Rename the "Notes" tab to "Reverse Chord Lookup" for clarity.

#### 5.1 Changes

**`index.html` line 27:**
```html
<!-- Before -->
<button id="tabNotes" class="tab" role="tab" aria-selected="false">Notes</button>

<!-- After -->
<button id="tabNotes" class="tab" role="tab" aria-selected="false">Reverse Chord Lookup</button>
```

**No other changes required.** Internal variable names (`tabNotes`, mode `'notes'`) remain unchanged — they're implementation details that don't affect the user-facing label.

#### 5.2 Tab Width Consideration

"Reverse Chord Lookup" is significantly longer than "Notes." On narrow screens, the three tabs may need to wrap or use a smaller font. Test on 320px viewport width (iPhone SE). If the label causes layout issues, consider abbreviating to "Reverse Lookup" or "Chord Lookup."

---

## Updated Backlog (Out of Scope for v2.5)

Items remaining from the v2.0 backlog, plus new ideas:

- **Voicing cycling:** Tap a chord diagram to cycle through alternative positions (partially available in modal; surface more prominently)
- **Custom progressions:** User can create and save their own progressions
- **Comping patterns tab:** Reference tab for common comping rhythms (bossa, swing, funk, etc.)

Items **cut** from the backlog:
- ~~Setlist/favorites~~ — Removed to avoid clutter
- ~~Recently viewed~~ — Removed to avoid clutter

---

## Mobile Considerations

All existing v2.0 mobile considerations remain in effect. Additional for v2.5:

- **Progression descriptors:** Text must be readable at mobile sizes without making buttons too tall. Test with longest descriptors (~120 characters).
- **Alteration popup:** Must not overflow screen edges. Position dynamically (above/below) based on available space. Dismiss easily on touch.
- **Annotation toggle:** Tap target must meet minimum 44x44px. Position should not interfere with search input or key selector.
- **Tab label "Reverse Chord Lookup":** Test at 320px width. Fall back to shorter label if needed.
- **12-bar chart views:** Grid must be readable on phone portrait. Consider horizontal scroll or smaller cell sizing for Bird Blues (2 chords per bar).

---

## Testing Checklist

### Expanded Progressions
- [ ] All 14 progressions resolve correctly in all 12 keys
- [ ] Category consolidation: "Basic" and "Pop" entries now appear under "Popular"
- [ ] Old "full-turnaround" and "rhythm-changes-a" entries removed without breakage
- [ ] Descriptors display below progression names
- [ ] Descriptors readable on mobile (320px width)
- [ ] New interval mappings (bII, II, III, #IV) resolve correctly
- [ ] Minor Blues summary view displays correctly (minor numerals)
- [ ] Jazz Blues summary view displays correctly
- [ ] Rhythm Changes sections view renders A and B sections
- [ ] Bird Blues chart view renders 12-bar grid with multi-chord bars
- [ ] All new progressions show correct chord diagrams

### Alteration Toggle
- [ ] Tapping a chord in progression shows alteration popup
- [ ] Popup shows correct alternatives for chord quality (dom7, m7, maj7, etc.)
- [ ] Selecting an alteration updates chord name and diagram
- [ ] Altered chord looked up correctly in database
- [ ] Missing altered chord shows "Diagram unavailable"
- [ ] Popup dismisses on outside tap, Escape key
- [ ] Popup doesn't overflow screen edges on mobile
- [ ] Changing key resets all alterations
- [ ] Selecting different progression resets all alterations
- [ ] Alterations do not persist to progression data

### Annotation Cycling
- [ ] Default mode is Intervals (matches v2.0)
- [ ] Toggle cycles: Intervals → Fingering → Clean → Intervals
- [ ] Intervals mode: shows R, 3, 5, b7, etc. (current behavior)
- [ ] Fingering mode: shows finger numbers 1-4 on dots
- [ ] Fingering mode: no labels on open strings
- [ ] Clean mode: no labels on any dots or open strings
- [ ] Mode applies to all visible diagrams (search, progressions, modal)
- [ ] Changing mode re-renders all visible diagrams immediately
- [ ] Modal respects current annotation mode
- [ ] Toggle visible and accessible from all three tabs
- [ ] Toggle state persists during session
- [ ] Toggle resets to Intervals on page reload

### Slash Chords
- [ ] Search for "C/G" returns correct chord
- [ ] Search for "Am/E" returns correct chord
- [ ] Autocomplete shows slash options when "/" is typed
- [ ] Slash chord diagrams render correctly (left-handed)
- [ ] Degree labels calculate correctly for slash chords (via MIDI)
- [ ] All 36 database slash suffixes searchable
- [ ] Enharmonic handling: slash chords display in flat notation

### Tab Rename
- [ ] "Notes" tab now reads "Reverse Chord Lookup"
- [ ] Tab still functions identically (notes search mode)
- [ ] Tab layout doesn't break on narrow screens (320px test)
- [ ] Internal references (tabNotes, mode 'notes') still work

### Regression
- [ ] Existing chord search still works
- [ ] Existing reverse lookup still works
- [ ] Existing progressions (ii-V-I, etc.) still work with updated data
- [ ] Modal still works (open, close, position cycling)
- [ ] Autocomplete still works
- [ ] 12-Bar Blues summary view still works
- [ ] Enharmonic normalization still works
- [ ] Left-handed orientation maintained on all diagrams
- [ ] Touch feedback on all interactive elements

---

## File Changes

```
LeftyChords/
├── index.html              # Tab rename, annotation toggle control
├── css/
│   └── styles.css          # Descriptor styles, alteration popup, toggle button,
│                           #   sections/chart display modes
├── js/
│   ├── app.js              # Annotation mode state & cycling, alteration toggle
│   │                       #   handler, sections/chart renderers, updated
│   │                       #   progression selector with descriptors
│   ├── chordDiagram.js     # Clean mode support (suppress finger labels)
│   ├── search.js           # Slash chord suffix aliases, autocomplete for "/"
│   ├── reverseLookup.js    # (no changes expected)
│   ├── autocomplete.js     # (no changes expected)
│   ├── modal.js            # Respect annotation mode from App state
│   ├── progressions.js     # New progressions, descriptions, consolidated
│   │                       #   categories, new intervals, sections/chart
│   │                       #   display modes, alteration definitions
│   └── degrees.js          # Slash chord formula entries if needed
├── data/
│   └── guitar.json         # (no changes - slash data already present)
└── docs/
    ├── v2-spec.md          # (no changes)
    └── v2.5-spec.md        # This specification
```

---

## Notes

- Primary chord database: tombatossals/chords-db (MIT license, 3000+ chords, 36 slash chord suffixes)
- Bird Blues is the most complex progression to implement due to secondary dominants and multi-chord bars
- Alteration toggle and annotation cycling are independent features that can be implemented in any order
- The annotation toggle benefits all three tabs, not just progressions
- Song examples in descriptors were verified against jazz education sources (learnjazzstandards.com, antonjazz.com, Wikipedia)
- Jazz convention: all display in flat notation
